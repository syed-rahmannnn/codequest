<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CodeQuest - Start</title>
  <link rel="stylesheet" href="style.css">
</head>
<script>
  const username = prompt("Enter your name:");
  if (username) {
    localStorage.setItem("currentUser", username.toLowerCase());
  } else {
    alert("Username is required to start the game.");
    location.reload(); // force prompt again
  }
</script>


<body>

  <div class="start-screen">
    <p class="score">üèÜ <span id="userName">User</span>'s Score: <span id="scoreValue">0</span></p>
    <h1 class="typewriter">Welcome to CodeQuest</h1>
    <button onclick="startGame()">Start Adventure</button>
  </div>
  <script>
    function getCurrentUsername() {
        return localStorage.getItem("currentUser") || "guest";
    }

    function getScoresObject() {
        return JSON.parse(localStorage.getItem("userScores") || "{}");
    }

    function getUserScore(username) {
        const scores = getScoresObject();
        return scores[username] || 0;
    }

    function updateScoreDisplay() {
        const username = getCurrentUsername();
        document.getElementById("userName").textContent = username;
        document.getElementById("scoreValue").textContent = getUserScore(username);
    }

    // Call this on page load
    updateScoreDisplay();
  </script>
  <script>
    function startGame() {
      window.location.href = "level1.html";
    }
  </script>

</body>
</html>
